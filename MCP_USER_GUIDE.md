# MCP工具使用指南

## 系统已集成的MCP功能

你的电商客服系统现在已经集成了MCP（Model Context Protocol）工具管理框架！

## 新增功能说明

### 1. 统一工具调用接口
现在可以通过统一的命令格式调用各种工具：
```
tool:工具名:参数
```

### 2. 当前可用的MCP工具

#### 📸 OCR文字识别工具
```
tool:aliyun_ocr:图片路径
```
示例：
```
tool:aliyun_ocr:C:\Users\用户名\Pictures\商品.jpg
```

#### 🚚 物流查询工具（示例）
```
tool:logistics_tracker:快递单号
```
示例：
```
tool:logistics_tracker:SF123456789CN
```

### 3. 与传统方式的区别

| 功能 | 传统方式 | MCP方式 |
|------|----------|---------|
| 图片识别 | `image:路径` | `tool:aliyun_ocr:路径` |
| 调用机制 | 直接调用类 | 通过管理器统一调度 |
| 错误处理 | 分散处理 | 统一处理 |
| 扩展性 | 需要修改主程序 | 动态注册新工具 |

### 4. 系统优势

#### ✅ 统一管理
- 所有外部工具通过MCP管理器统一管理
- 自动处理权限验证和错误处理
- 可以动态启用/禁用工具

#### ✅ 易于扩展
- 添加新工具只需创建工具类并注册
- 无需修改主程序代码
- 支持热插拔式的工具管理

#### ✅ 更好的用户体验
- 统一的命令格式
- 清晰的错误提示
- 标准化的结果输出

## 使用示例

### 启动系统
```bash
python main.py
```

### 调用OCR工具
```
👤 用户: tool:aliyun_ocr:C:\test\product.jpg
🔧 正在执行工具: aliyun_ocr
✅ 工具执行成功:
   recognized_text: 这是一段识别的文字内容
   raw_response: {...}
```

### 传统图片识别（仍然支持）
```
👤 用户: image:C:\test\product.jpg
📸 正在识别图片: C:\test\product.jpg
✅ 图片识别完成！
```

### 普通对话
```
👤 用户: 你们支持哪些支付方式？
🔄 正在检索相关信息...
🤖 客服: 我们支持支付宝、微信支付、银行卡在线支付以及货到付款等多种支付方式...
```

## 未来扩展计划

你可以轻松添加更多MCP工具：
- 订单查询工具
- 库存检查工具
- 支付状态查询工具
- 客户信息查询工具

每个新工具都只需：
1. 创建继承MCPTool的类
2. 实现initialize()和execute()方法
3. 注册到mcp_manager

这样就能无缝集成到现有系统中！