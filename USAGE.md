# 电商智能客服系统使用说明

## 系统特点
- 🤖 **智能客服**：基于RAG架构，结合向量数据库和大语言模型
- 💬 **命令行交互**：简洁高效的纯文本交互界面
- 🧠 **上下文记忆**：支持多轮对话和历史记录管理
- 📊 **实时监控**：显示向量数据库状态和系统信息

## 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 配置API密钥
在 `.env` 文件中配置以下任一项：
```env
# 通义千问API密钥（推荐）
DASHSCOPE_API_KEY=your_dashscope_api_key

# 或者OpenAI API密钥
OPENAI_API_KEY=your_openai_api_key
```

### 3. 启动系统
```bash
python main.py
```

系统会自动：
1. 初始化向量数据库
2. 加载AI模型
3. 启动命令行交互界面

## 使用方式

### 命令行模式
系统启动后直接进入命令行交互模式：
- 输入任意问题与AI客服对话
- 输入 `quit`、`exit` 或 `退出` 结束程序
- 使用 `Ctrl+C` 也可以退出程序

### 功能特色

#### 💡 智能回复
- 基于电商专业知识库
- 结合上下文理解用户意图
- 提供准确、专业的客服回答

#### 🧠 记忆系统
- 自动保存对话历史
- 智能分类用户问题类型
- 提取关键信息（订单号、商品名等）
- 生成对话摘要维持上下文连贯性

#### 📊 系统监控
- 实时显示向量数据库状态
- 显示API调用情况
- 提供系统健康检查信息

## 技术架构

```
用户输入 → 向量检索（FAISS） → 匹配知识片段 → AI模型生成 → 结构化回复
```

## 注意事项

1. **首次运行**：需要下载向量模型，可能需要一些时间
2. **网络要求**：需要能访问API服务（通义千问或OpenAI）
3. **API配额**：注意API调用次数限制

## 故障排除

### AI回复异常
- 检查API密钥配置是否正确
- 确认网络连接正常
- 查看向量数据库初始化状态

### 依赖安装问题
```bash
# 使用国内镜像加速
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

## 开发说明

### 项目结构
```
├── main.py           # 主程序入口
├── agents/           # AI代理模块
├── memory/           # 内存管理模块
├── vector_db.py      # 向量数据库
├── config.py         # 配置管理
├── requirements.txt  # 依赖列表
└── .env             # 环境变量配置
```

### 自定义扩展
- 在 `vector_db.py` 中添加新的知识库内容
- 扩展 `agents/` 目录下的AI代理功能
- 修改记忆系统的行为和存储策略

---
**提示**：系统会在启动时自动检测可用的API服务，优先使用通义千问，备选OpenAI。