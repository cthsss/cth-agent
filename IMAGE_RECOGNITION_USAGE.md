# 图片识别功能使用说明

## 功能介绍
本系统集成了阿里云图片识别API，支持在终端中上传商品图片进行智能识别。

## 使用方法

### 1. 基本使用格式
在终端对话中，使用以下格式上传图片：
```
image:图片路径
```

### 2. 示例
```
# 相对路径
image:test_product.jpg

# 绝对路径（Windows）
image:C:\Users\YourName\Pictures\product.jpg

# 绝对路径（Linux/Mac）
image:/home/user/images/product.png
```

### 3. 识别结果展示
系统会返回以下信息：
- 商品名称
- 商品分类
- 识别置信度
- 价格区间
- 相似商品数量

## 环境配置

### 必需的环境变量
在 `.env` 文件中配置以下信息：

```env
# 阿里云图片识别 API 配置
ALIYUN_IMAGE_API_KEY=your_api_key
ALIYUN_IMAGE_API_SECRET=your_api_secret
ALIYUN_IMAGE_APP_CODE=your_app_code
```

### 获取API凭证
1. 登录阿里云控制台
2. 进入图片识别服务
3. 获取AccessKey、Secret和AppCode

## 功能特点

### 1. 智能识别
- 自动识别商品类别
- 提取商品关键信息
- 给出置信度评分

### 2. 无缝集成
- 与现有客服系统完美融合
- 识别结果可直接用于后续对话
- 支持文本+图片混合对话

### 3. 错误处理
- 文件不存在检测
- API调用异常处理
- 友好的错误提示

## 使用场景

### 1. 商品咨询
用户上传商品图片，系统自动识别并提供相关信息

### 2. 售后服务
通过图片快速定位商品，提高服务效率

### 3. 库存管理
批量识别商品图片，辅助库存盘点

## 注意事项

1. **图片格式**：支持常见图片格式（jpg, png, jpeg等）
2. **文件大小**：建议图片大小不超过5MB
3. **网络要求**：需要稳定的网络连接以调用API
4. **权限配置**：确保API凭证具有相应权限

## 故障排除

### 常见问题
1. **"图片文件不存在"**：检查文件路径是否正确
2. **"API调用失败"**：检查网络连接和API配置
3. **"识别结果为空"**：可能是图片质量问题或非商品图片

### 调试建议
- 使用测试图片验证功能
- 检查环境变量配置
- 查看系统日志获取详细错误信息